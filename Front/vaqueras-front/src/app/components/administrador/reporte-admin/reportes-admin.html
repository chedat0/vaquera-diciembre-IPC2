<div class="reportes-container">
    <div class="header">
        <h1>ğŸ“Š Reportes Administrativos</h1>
        <p>Genere reportes en PDF sobre el rendimiento de la plataforma</p>
    </div>

    <!-- Mensajes -->
    <div *ngIf="error" class="alert alert-error">{{ error }}</div>
    <div *ngIf="exito" class="alert alert-success">{{ exito }}</div>

    <!-- Filtro de fechas global -->
    <div class="filtro-fechas-global">
        <h3>ğŸ“… Filtro de Fechas (para reportes con rango)</h3>
        <div class="form-row">
            <div class="form-group">
                <label>Fecha Inicio:</label>
                <input type="date" class="form-control" [(ngModel)]="filtroFechas.fechaInicio"
                    [disabled]="procesando" />
            </div>
            <div class="form-group">
                <label>Fecha Fin:</label>
                <input type="date" class="form-control" [(ngModel)]="filtroFechas.fechaFin" [disabled]="procesando" />
            </div>
        </div>
    </div>

    <!-- Grid de reportes -->
    <div class="reportes-grid">

        <!-- R1: Ganancias Globales -->
        <div class="reporte-card">
            <div class="reporte-icon">ğŸ’°</div>
            <h3>Ganancias Globales</h3>
            <p>Reporte de ganancias totales de la plataforma en un perÃ­odo especÃ­fico.</p>
            <div class="reporte-info">
                <span class="tag">Requiere fechas</span>
            </div>
            <button class="btn btn-primary" (click)="generarGananciasGlobales()" [disabled]="procesando">
                <span *ngIf="!procesando">ğŸ“„ Generar PDF</span>
                <span *ngIf="procesando">â³ Generando...</span>
            </button>
        </div>

        <!-- R2: Top Ventas por CategorÃ­a -->
        <div class="reporte-card">
            <div class="reporte-icon">ğŸ“ˆ</div>
            <h3>Top Ventas por CategorÃ­a</h3>
            <p>Ranking de ventas agrupadas por categorÃ­a de juegos en un perÃ­odo.</p>
            <div class="reporte-info">
                <span class="tag">Requiere fechas</span>
            </div>
            <button class="btn btn-primary" (click)="generarTopVentasCategoria()" [disabled]="procesando">
                <span *ngIf="!procesando">ğŸ“„ Generar PDF</span>
                <span *ngIf="procesando">â³ Generando...</span>
            </button>
        </div>

        <!-- R3: Top 10 Juegos -->
        <div class="reporte-card">
            <div class="reporte-icon">ğŸ†</div>
            <h3>Top 10 Juegos MÃ¡s Vendidos</h3>
            <p>Los 10 juegos con mÃ¡s ventas de todos los tiempos en la plataforma.</p>
            <div class="reporte-info">
                <span class="tag tag-instant">InstantÃ¡neo</span>
            </div>
            <button class="btn btn-primary" (click)="generarTop10Juegos()" [disabled]="procesando">
                <span *ngIf="!procesando">ğŸ“„ Generar PDF</span>
                <span *ngIf="procesando">â³ Generando...</span>
            </button>
        </div>

        <!-- R4: Ranking de Usuarios -->
        <div class="reporte-card">
            <div class="reporte-icon">ğŸ‘¥</div>
            <h3>Ranking de Usuarios por Gasto</h3>
            <p>Listado de usuarios ordenados por su gasto total en la plataforma.</p>
            <div class="reporte-info">
                <span class="tag tag-instant">InstantÃ¡neo</span>
            </div>
            <button class="btn btn-primary" (click)="generarRankingUsuarios()" [disabled]="procesando">
                <span *ngIf="!procesando">ğŸ“„ Generar PDF</span>
                <span *ngIf="procesando">â³ Generando...</span>
            </button>
        </div>
    </div>

    <!-- InformaciÃ³n adicional -->
    <div class="info-section">
        <h3>â„¹ï¸ InformaciÃ³n sobre Reportes</h3>
        <ul>
            <li><strong>Reportes con fechas:</strong> Requieren seleccionar un rango de fechas vÃ¡lido</li>
            <li><strong>Reportes instantÃ¡neos:</strong> Se generan con datos actuales, sin necesidad de filtros</li>
            <li><strong>Formato:</strong> Todos los reportes se generan en formato PDF</li>
            <li><strong>VisualizaciÃ³n:</strong> Los reportes se abren automÃ¡ticamente en una nueva pestaÃ±a</li>
        </ul>
    </div>
</div>